The Debian Package acrn-hypervisor
----------------------------------

ACRN is a flexible, lightweight reference hypervisor, built with real-time and
safety-criticality in mind, optimized to streamline embedded development through
an open source platform.

The Debian source package ``acrn-hypervisor`` provides the
following Debian packages:

* ``acrn-dev``: Public headers and libraries for ACRN manager.
* ``acrn-devicemodel``: Device model for ACRN Hypervisor
* ``acrn-doc``: Reference to ACRN Documentation
* ``acrn-hypervisor``: ACRN Hypervisor for IoT
* ``acrn-lifemngr``: ACRN life manager service
* ``acrn-system``: metapackage to deploy a minimum of ACRN packages
* ``acrn-tools``: Supplementary tools for ACRN Hypervisor
* ``acrnd``: ACRN Hypervisor control daemon
* ``grub-acrn``: Grub setup scripts for ACRN Hypervisor
* ``python3-board-inspector``: Generate Board Configuration for ACRN

**Building**

  The ``acrn-hypervisor`` source package uses ``git-buildpackage`` (``gbp``) for
  package building (see ``debian/gbp.conf``). For more information on ``gbp``
  refer to
  http://honk.sigxcpu.org/projects/git-buildpackage/manual-html/gbp.html.

**Special Package Properties**

* ``acrn-hypervisor``

  This package contains multiple ACRN hypervisor binaries, with the final binary
  being chosen usually at install time via Debian's ``debconf`` mechanism. This
  allows you to choose the board as well as the respective scenario but still
  use the same Debian for varoius hardware platforms.
  To reconfigure the choice later, use

    ``dpkg-reconfigure acrn-hypervisor``

  You also can preseed your choice by setting the respective ``debconf`` keys
  ``acrn-hypervisor/board`` and ``acrn-hypervisor/scenario``, e.g. during
  image creation. Please refer to https://wiki.debian.org/debconf for details.

  The ACRN hypervisor configurations are chosen as follows:
  All directories given in ``CONFIGDIRS`` in ``debian/rules`` are searched
  for valid board- and scenario-configuration files. The ``ACRN_BOARDLIST``
  and ``ACRN_SCENARIOLIST`` in debian/rules can be use to restrict the
  hypervisor/scenario configurations built into ``acrn-hypervisor``. If
  unset, all possible configurations found under the directories given are
  built.

* ``acrn-lifemngr``

  To adapt the the needs of a Debian distribution the service file has been
  adapted and a start script wrapper added to automatically set up the
  parameters for User VMs or the Service VM.

* ``acrnd``

  There is also an adapted variant for the systemd service file. As for
  ``acrn-lifemngr`` this also is provided as part of the Debian packaging
  process rather than patching the files provided with the sources.

**General Remarks and Restrictions**

* ACRN >=2.6 needs a Linux 5.10 kernel with the respective Intel/ACRN patches
  applied.
* The packages are built in debug mode to be able to access the HV console.
  This can be changed by setting the ``RELEASE`` variable in ``debian/rules``
  to 1.
* The built configurations are restricted to the hardware platforms available
  for testing.

 -- Helmut Buchsbaum <helmut.buchsbaum@opensource.tttech-industrial.com>  Sat, 26 Nov 2022 20:45:00 +0100

