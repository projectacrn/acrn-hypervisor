.. _release_notes_2.6:

ACRN v2.6 (Sep 2021) - Draft
############################

We are pleased to announce the release of the Project ACRN hypervisor
version 2.6.

ACRN is a flexible, lightweight reference hypervisor that is built with
real-time and safety-criticality in mind. It is optimized to streamline
embedded development through an open-source platform. See the
:ref:`introduction` introduction for more information.

All project ACRN source code is maintained in the
https://github.com/projectacrn/acrn-hypervisor repository and includes
folders for the ACRN hypervisor, the ACRN device model, tools, and
documentation. You can download this source code either as a zip or
tar.gz file (see the `ACRN v2.6 GitHub release page
<https://github.com/projectacrn/acrn-hypervisor/releases/tag/v2.6>`_) or
use Git ``clone`` and ``checkout`` commands::

   git clone https://github.com/projectacrn/acrn-hypervisor
   cd acrn-hypervisor
   git checkout v2.6

The project's online technical documentation is also tagged to
correspond with a specific release: generated v2.6 documents can be
found at https://projectacrn.github.io/2.6/.  Documentation for the
latest development branch is found at https://projectacrn.github.io/latest/.

ACRN v2.6 requires Ubuntu 18.04.  Follow the instructions in the
:ref:`gsg` to get started with ACRN.


What's New in v2.6
******************

Nested Virtualization Technology Performance Tuning
  The performance of nested virtualization, a feature first introduced as a
  preview in the v2.5 release, was improved. CPU and I/O performance of level 2
  virtual machines (for example, a VM running on a KVM/QEMU VM that itself is a
  VM on ACRN hypervisor) is now on par with a VM running on KVM on bare metal.
  Read more in the :ref:`nested_virt` tutorial.

Support loading OSes in ELF format
  ACRN hypervisor now can load OS images packed in ELF (Executable and Linkable
  Format). This adds flexibility to OSs such as Zephyr running in pre-launched
  VMs.


Upgrading to v2.6 From Previous Releases
****************************************

We highly recommended that you follow these instructions to
upgrade to v2.6 from previous ACRN releases.

Generate New Board XML
======================

Board XML files, generated by ACRN board inspector, contain board information
that is essential to build ACRN. Compared to previous versions, ACRN v2.6 adds
the following hardware information to board XMLs to support the new features and
fixes.

  - Maximum width of physical and linear addresses
  - Device objects in the ACPI namespace
  - Routing of PCI interrupt pins
  - Number of requested vectors of MSI-capable PCI devices

The new board XML can be generated using the ACRN board inspector in the same
way as ACRN v2.5. Refer to :ref:`acrn_config_workflow` for a complete list of
steps to deploy and run the tool.

Add New Configuration Options
=============================

In v2.6, the following elements are added to scenario XML files.

- :option:`hv.FEATURES.ENFORCE_TURNOFF_GP` (Default value is ``n``)
- :option:`hv.FEATURES.SECURITY_VM_FIXUP` (Default value is ``n``)

Document Updates
****************

We've made major improvements to the introductory ACRN documentation including:

.. rst-class:: rst-columns2

* :ref:`introduction`
* :ref:`overview_dev`
* :ref:`gsg`
* :ref:`acrn_configuration_tool`

Weâ€™ve also made edits throughout the documentation to improve clarity,
formatting, and presentation:

.. rst-class:: rst-columns2

* :ref:`hld-devicemodel`
* :ref:`hld-overview`
* :ref:`hld-power-management`
* :ref:`hld-virtio-devices`
* :ref:`hld-io-emulation`
* :ref:`virtio-net`
* :ref:`acrn_on_qemu`
* :ref:`cpu_sharing`
* :ref:`enable-ptm`
* :ref:`nested_virt`
* :ref:`setup_openstack_libvirt`
* :ref:`using_hybrid_mode_on_nuc`
* :ref:`acrn_doc`

Fixed Issues Details
********************

.. comment example item
   - :acrn-issue:`5626` - [CFL][industry] Host Call Trace once detected


Known Issues
************

